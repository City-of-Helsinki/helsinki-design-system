---
slug: '/components/cookie-consent/api'
title: 'CookieConsent - API'
---

import TabsLayout from './tabs.mdx';

export default ({ children, pageContext }) => <TabsLayout pageContext={pageContext}>{children}</TabsLayout>;

## API

### Component properties

Common texts, groups and cookie data can be found in <Link href="">HDS-provided content file</Link>. The file contains all user interface strings, language options, descriptions for common cookie groups and details about common Helsinki cookies. By default, this content file is used. You can also override parts of it and add your project-specific groups and cookies. 

#### ContentSource
The `contentSource` property lists all content, language options and callbacks for the component. The given source is merged with the default `content.json` to create a content-object.

| Property                                                                                                                         | Required | Description                                                                                                                                                                                                                                                                                                            |
| -------------------------------------------------------------------------------------------------------------------------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `siteName`                                                                                                                       | **Yes**  | Cookie consent main heading.                                                                                                                                                                                                                                                                                           |
| `currentLanguage`                                                                                                                | **Yes**  | Currently selected language. Used for picking translations from `content.json`. Is also set to `content.language.current`. Supported values are `fi`, `sv` and `en`.                                                                                                                                                   |
| `requiredCookies`                                                                                                                | No       | Required cookies can have partial data or all data described in the table below. Missing texts are auto-filled. See examples below this table.                                                                                                                                                                         |
| `optionalCookies`                                                                                                                | No       | Optional cookies can have partial data or all data described in the table below. Missing texs are auto-filled. See examples below this table.                                                                                                                                                                          |
| `requiredConsents.groups`, `optionalConsents.groups`                                                                             | No       | List of cookie groups. All cookies must belong to a group. Groups with property `commonGroup` will be autofilled from `content.json`.                                                                                                                                                                                  |
| `requiredConsents.groups[].cookies`, `requiredConsents.cookies`, `optionalConsents.groups[].cookies`, `optionalConsents.cookies` | No       | List of individual cookies. All cookies must belong to a group or they must have `propertycommonGroup` or `groupId`. The `groupId` must match `group.id` of a custom group and the `commonGroup` must match groups in `content.json`. Do not give both.                                                                |
| `texts`                                                                                                                          | No       | User inferface string overrides. By default strings are fetched from `content.json` and this object overrides one or multiple texts.                                                                                                                                                                                   |
| `language`                                                                                                                       | No       | Overrides for default language options. By default, options are fetched from `content.json` and this object overrides one or more properties. `onLanguageChange` callback is also added here.                                                                                                                          |
| `onAllConsentsGiven`                                                                                                             | No       | See Callbacks section below.                                                                                                                                                                                                                                                                                           |
| `onConsentsParsed`                                                                                                               | No       | See Callbacks section below.                                                                                                                                                                                                                                                                                           |
| `noCommonConsentCookie`                                                                                                          | No       | Consents are saved to a cookie and this option can prevent showing that cookie in the list of consents. If this is not true, `requiredConsents` are always shown and a common group “sharedConsents” added to it and also common cookie “helConsentCookie” to that group. All content for those are in `content.json`. |
| `focusTargetSelector`                                                                                                            | No       | When modal is closed or the ESC key is pressed when it is open, focus must be shifted outside the modal. This defines the element to set focus to with this selector (string). Not needed when modal is not used. Throws an error is not set for modal.                                                                |
[Table 1:ContentSource object properties]|

##### ContentSource examples


#### CookieDomain
Rarely used. Cookie consents are stored to a cookie whose domain is automatically set to accept subdomains: *.hel.fi or *.hel.ninja or *.domain.com. Some sites are included in the public suffix list and cookies for those sites cannot accept subdomain cookies. Github.io is one of those sites and HDS examples do not work there unless cookie domain can be overridden. Therefore `cookieDomain` was added.

#### Detailed info about properties

##### Callbacks
The `content` object passed to the component can also include callback functions:

| Property             | Usage                                                                                                 | Arguments                                                                                                                                                                                     |
| -------------------- | ----------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `onAllConsentsGiven` | Called when user has given all consents. Not called if consents are not asked for.                    | Object with cookie.id as the key and true/false as value `{matomo: true, marketing: false}`                                                                                                   |
| `onConsentsParsed`   | Called when cookie consents are read from the browser. Called always even if consent have been given. | Object with cookie.id as the key and true/false as value `{matomo: true, marketing: false}` and boolean indicating are all consents handled. If true, there is no reason to ask for consents. |
[Table 2:CookieConsent component object callbacks]|

### Language
The `content` object passed to the component must also include the following language related data:

| Property                             | Usage                                                                                         | Example                                                                                                                    |
| ------------------------------------ | --------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| `language.languageOptions`           | List of selectable languages                                                                  | `[{ code: 'fi', label: 'Suomeksi (FI)' },{ code: 'sv', label: 'På svenska (SV)' }, { code: 'en', label: 'English (EN)' }]` |
| `language.current`                   | Current language                                                                              | `fi`                                                                                                                       |
| `language.languageSelectorAriaLabel` | Aria-label for the language selector button                                                   | Kieli: Suomi. Vaihda kieli. Change language. Ändra språk.                                                                  |
| `language.onLanguageChange`          | Callback called when new language is selected. Called with new language.code as the argument. |                                                                                                                            |
[Table 3:CookieConsent component language data]|
